
## 交并比 Iou

交并比（Intersection-over-Union，IoU）目标检测中使用的一个概念，是产生的候选框（candidate bound）与原标记框（ground truth bound）的交叠率，即它们的交集与并集的比值

## 非极大值抑制 NMS

用于剔除冗余检测框,保留局部最优的检测结果，抑制与其高度重叠的其他框

输入

1. 检测框集合B：每个框用坐标表示（如 [x1, y1, x2, y2]）
2. 对应置信度分数 S：每个框的预测得分（如分类概率）
3. 重叠阈值Nt（通常设为0.5~0.7）

主要步骤

1. 按置信度排序
   1. 将检测框按置信度从高到低排序，得到排序后的列表 B_sorted
2. 初始化结果集
   1. 创建一个空列表keep用于保存最终保留的框
3. 循环处理
   1. 从`B_sorted`中取出置信度最高的框M，将其移到keep中
   2. 计算 M 与`B_sorted`中剩余所有框的`IoU`（交并比）
   3. 删除`B_sorted`中与 M 的 IoU 超过阈值 Nt 的框（即抑制重叠框）
   4. 直到`B_sorted`为空
4. 输出
   1. keep 中的检测框即为最终结果，均为不重叠或低重叠的高置信度框

## ref

- [c++实现iou nms](https://zhuanlan.zhihu.com/p/408583191)
